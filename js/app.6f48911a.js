(function(e){function t(t){for(var i,r,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(i=!1)}i&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var i={},a={app:0},n=[];function r(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d217357":"11d3ff3d"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s=a[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,i){s=a[e]=[t,i]}));t.push(s[2]=i);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(e);var l=new Error;n=function(t){c.onerror=c.onload=null,clearTimeout(u);var s=a[e];if(0!==s){if(s){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",l.name="ChunkLoadError",l.type=i,l.request=n,s[1](l)}a[e]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(s,i,function(t){return e[t]}.bind(null,i));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/shuili-web-pages/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"11bc":function(e,t,s){"use strict";var i=s("2f0b"),a=s.n(i);a.a},"235f":function(e,t,s){e.exports=s.p+"img/touxiang1.2109417c.jpg"},2395:function(e,t,s){},"2f0b":function(e,t,s){},"331c":function(e,t,s){e.exports=s.p+"img/heliu3.3b4df6eb.jpg"},"3a24":function(e,t,s){e.exports=s.p+"img/touxiang2.76eb5a21.jpg"},"4b68":function(e,t,s){},"56d6":function(e,t,s){"use strict";var i=s("6ce5"),a=s.n(i);a.a},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("a79d");var i=s("2b0e"),a=(s("ddb0"),s("15fd")),n=s("5530"),r=s("2f62"),o=s("2ef0"),c=s.n(o),l=s("d3fb"),u=s("3e18"),d=s("2c18"),p={corpId:"dingfb60e488237f039eee0f45d8e4f7c288",agentId:"808546206",apiBaseUrl:"http://47.92.89.169:8080/api",disableDingTalk:!1,debug:!1};const m={ready:!1},h=["runtime.info","biz.util.ut","biz.map.view","biz.ding.post","biz.util.open","biz.map.locate","biz.map.search","biz.alipay.pay","biz.ding.create","biz.util.encrypt","biz.util.decrypt","biz.util.scanCard","biz.cspace.preview","biz.cspace.saveFile","biz.telephone.call","device.nfc.nfcWrite","device.base.getUUID","device.geolocation.get","biz.chat.toConversation","biz.contact.createGroup","biz.chat.openSingleChat","device.geolocation.stop","device.geolocation.start","device.base.getInterface","biz.clipboardData.setData","biz.util.uploadAttachment","biz.cspace.chooseSpaceDir","biz.chat.pickConversation","biz.contact.complexPicker","biz.telephone.checkBizCall","biz.telephone.showCallMenu","biz.telephone.quickCallList","biz.chat.chooseConversationByCorpId","runtime.permission.requestOperateAuthCode"],v=e=>{m.ready=!0,d["biz"].navigation.setRight({show:!1,control:!1}),e(m)};var f={init(){return new Promise((e,t)=>{try{d["ready"](v(e))}catch(s){t(m)}})},getAuthCode(e){return d["runtime"].permission.requestAuthCode({corpId:e})},configJsPermission(e){d["config"](Object(n["a"])(Object(n["a"])({},e),{},{jsApiList:h}))},currentPosition(){return new Promise((e,t)=>{const s=s=>s.errorCode>0?t(s.errorMessage):c.a.isEmpty(s.address)?e(`${s.province}${s.city}${s.district}${s.road}`):e(s.address);d["device"].geolocation.get({onFail:t,onSuccess:s,coordinate:1,useCache:!0,targetAccuracy:500,withReGeocode:!0})})},choosePosition(e,t){return new Promise((s,i)=>{d["biz"].map.locate({latitude:e,longitude:t,onSuccess:s,onFail:i})})},chooseUsers(e,t){return new Promise((s,i)=>{d["biz"].contact.complexPicker(Object(n["a"])({title:e,onFail:i,onSuccess:s,maxUsers:200,multiple:!0,pickedUsers:[],requiredUsers:[],disabledUsers:[],corpId:p.corpId,appId:p.agentId,pickedDepartments:[],responseUserOnly:!0,disabledDepartments:[],requiredDepartments:[]},t))})},createChatGroup(e){return new Promise((t,s)=>{d["biz"].contact.createGroup({users:e,onFail:s,onSuccess:t,corpId:p.corpId})})}},g=s("bc3a"),b=s.n(g);const y=b.a.create({timeout:3e4,baseURL:p.apiBaseUrl});y.interceptors.request.use(e=>(console.log("send Request with:",e),e),e=>(console.log("send Request error:",e),Promise.reject(e))),y.interceptors.response.use(e=>(console.log("Got Response:",e),e),e=>(console.log("Parser Response error:",e),Promise.reject(e)));var x=y;const w=({data:e})=>!!c.a.isUndefined(e)||!!c.a.has(e,"error"),_=e=>x.post("/sign",{url:e}),k=e=>x.get("/user",{params:{code:e.code}}),S=e=>Object(l["a"])(f.getAuthCode(e)).pipe(Object(u["a"])(k));var I={sign:_,getUserInfo:S,init:f.init,loadUserInfo(){return new Promise((e,t)=>{S(p.corpId).toPromise().catch(t).then(s=>{w(s)&&t(s),e(s)})})},configJsApis(e){return new Promise((t,s)=>{_(e).catch(s).then(e=>{f.configJsPermission(e.data.data)})})},createIssue(e){return x.post("/issues",e)}};i["a"].use(r["a"]);const C=[{text:"设施问题",children:[{text:"设施问题A"},{text:"设施问题B"}]},{text:"非法行为",children:[{text:"非法行为I"},{text:"非法行为II"}]},{text:"排污问题",children:[{text:"漂浮垃圾"},{text:"河底垃圾"},{text:"水体异味"}]},{text:"岸线四乱",children:[{text:"岸线四乱1"},{text:"岸线四乱2"},{text:"岸线四乱2"}]},{text:"水面水体问题",children:[{text:"水体异味"},{text:"颜色异常"},{text:"河底垃圾"}]}];var O=new r["a"].Store({state:{issueTypeNames:C,user:{userid:0,name:"Guest",avatar:"https://tva3.sinaimg.cn/crop.2.2.363.363.180/c23430b4tw1el1fpw55y8j20a70a73zt.jpg"},riverNameList:["村田河地杨村段","下梅溪地杨村段","梅宁河地杨村段"],issues:[{id:1,images:[],processType:0,submitter:"王孟",riverName:"村田河",notifyOthers:!0,desc:"水面有漂浮物垃圾",chatGroupId:void 0,position:"高新区科技7路16号",time:"2020-06-27 12:22:54",issueTypeName:"非法行为, 水体异味"},{id:2,images:[],processType:1,submitter:"李磊",riverName:"梅宁河",notifyOthers:!0,desc:"河岸四处都有生活垃圾",chatGroupId:void 0,position:"高新区科技7路16号",time:"2020-06-25 10:12:22",issueTypeName:"排污问题, 漂浮垃圾"},{id:3,images:[],processType:2,submitter:"张峰",riverName:"下梅溪",notifyOthers:!0,chatGroupId:void 0,desc:"有工厂在私自排污",position:"高新区科技7路16号",time:"2020-06-25 10:12:22",issueTypeName:"水面水体问题, 颜色异常"}]},mutations:{onUserInfoUpdated(e,t){e.user=Object(n["a"])(Object(n["a"])({},e.user),t)},onAddNewIssue(e,t){e.issues=[t].concat(e.issues)}},actions:{createIssue(e,t){const{otherUsers:s}=t,i=Object(a["a"])(t,["otherUsers"]);return i.releUsers=[e.state.user.userid,...c.a.map(s,"emplId")],new Promise((s,a)=>{I.createIssue(i).catch(a).then(i=>{const{chatid:a,id:r}=i.data;e.commit("onAddNewIssue",Object(n["a"])(Object(n["a"])({},t),{},{id:r,chatGroupId:a})),s()})})}},modules:{}}),j=s("8c4f"),N=s("7876"),T=s.n(N),z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"report"},[s("van-form",{ref:"form",attrs:{"scroll-to-error":""},on:{submit:e.onSubmit,failed:e.onInvalid}},[s("van-cell",[s("template",{slot:"title"},[s("div",{staticStyle:{"padding-left":"17px"},attrs:{align:"left"}},[e._v("位置：")]),s("van-field",{attrs:{clearable:"",name:"position","right-icon":"location-o",placeholder:e.positionPlaceholder,offset:"0",rules:[{required:!0,message:"问题所在位置必须填写."}]},on:{"click-right-icon":e.onLocationClicked},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}})],1)],2),s("van-cell",[s("template",{slot:"title"},[s("div",{staticStyle:{"padding-left":"17px"},attrs:{align:"left"}},[e._v("对应河湖：")]),s("van-field",{attrs:{readonly:"",clickable:"",name:"riverName",value:e.riverName,placeholder:"点击选择对应河湖",rules:[{required:!0,message:"对应河湖名称必须填写."}]},on:{click:function(t){e.showRiverSelector=!0}}}),s("van-popup",{attrs:{position:"bottom"},model:{value:e.showRiverSelector,callback:function(t){e.showRiverSelector=t},expression:"showRiverSelector"}},[s("van-picker",{attrs:{"show-toolbar":"",columns:e.riverNames},on:{confirm:e.onRiverNameConfirm,cancel:function(t){e.showRiverSelector=!1}}})],1)],1)],2),s("van-cell",[s("template",{slot:"title"},[s("div",{staticStyle:{"padding-left":"17px"},attrs:{align:"left"}},[e._v("问题图片：")]),s("van-field",{attrs:{name:"images"},scopedSlots:e._u([{key:"input",fn:function(){return[s("van-uploader",{model:{value:e.images,callback:function(t){e.images=t},expression:"images"}})]},proxy:!0}])})],1)],2),s("van-cell",[s("template",{slot:"title"},[s("div",{staticStyle:{"padding-left":"17px"},attrs:{align:"left"}},[e._v("问题类型：")]),s("van-field",{attrs:{readonly:"",clickable:"",name:"issueTypeName",value:e.issueTypeName,placeholder:"点击选择问题类型",rules:[{required:!0,message:"问题类型必须填写."}]},on:{click:function(t){e.showIssueTypeSelector=!0}}}),s("van-popup",{attrs:{position:"bottom"},model:{value:e.showIssueTypeSelector,callback:function(t){e.showIssueTypeSelector=t},expression:"showIssueTypeSelector"}},[s("van-picker",{attrs:{"show-toolbar":"",columns:e.issueTypes},on:{confirm:e.onIssueTypeConfirm,cancel:function(t){e.showIssueTypeSelector=!1}}})],1)],1)],2),s("van-cell",[s("template",{slot:"title"},[s("div",{staticStyle:{"padding-left":"17px"},attrs:{align:"left"}},[e._v("问题描述：")]),s("van-field",{attrs:{rows:"2",autosize:"",clearable:"",name:"desc",type:"textarea",maxlength:"100","show-word-limit":"",placeholder:"请输入问题描述",rules:[{required:!0,message:"问题描述必须填写."}]},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}})],1)],2),s("van-cell",[s("template",{slot:"title"},[s("div",{staticStyle:{"padding-left":"17px"},attrs:{align:"left"}},[e._v("处理方式：")]),s("van-field",{attrs:{name:"processType"},scopedSlots:e._u([{key:"input",fn:function(){return[s("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.processType,callback:function(t){e.processType=t},expression:"processType"}},[s("van-radio",{attrs:{name:"1"}},[e._v("自行处理")]),s("van-radio",{attrs:{name:"2"}},[e._v("上报河长")]),s("van-radio",{attrs:{name:"3"}},[e._v("转交他人")]),s("van-radio",{attrs:{name:"4"}},[e._v("河长协调")])],1)]},proxy:!0}])})],1)],2),s("van-cell",[s("template",{slot:"title"},[s("div",{staticStyle:{"padding-left":"17px"},attrs:{align:"left"}},[e._v("是否通知相关人员：")]),s("van-field",{attrs:{name:"notifyOthers"},scopedSlots:e._u([{key:"input",fn:function(){return[s("van-radio-group",{attrs:{direction:"horizontal"},on:{change:e.onNotifyOthersChange},model:{value:e.notifyOthers,callback:function(t){e.notifyOthers=t},expression:"notifyOthers"}},[s("van-radio",{attrs:{name:"1"}},[e._v("是")]),s("van-radio",{attrs:{name:"0"}},[e._v("否")])],1)]},proxy:!0}])})],1)],2),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",type:"primary",size:"large","native-type":"submit"}},[e._v("提交")]),s("van-button",{attrs:{round:"",type:"default",size:"large"},on:{click:e.goList}},[e._v("取消")])],1)],1),s("van-overlay",{attrs:{show:e.submitting}},[s("div",{staticClass:"wrapper"},[s("van-loading",{attrs:{type:"spinner",color:"#1989fa"}},[e._v("正在保存数据...")])],1)])],1)},P=[],R=(s("a909"),s("3acc")),U=(s("a44c"),s("e27c")),A=(s("e930"),s("8f80")),$=(s("3c32"),s("417e")),E=(s("ac1e"),s("543e")),L=(s("f1dc"),s("6e47")),D=(s("9a83"),s("f564")),q=(s("5f5f"),s("f253")),J=(s("66b9"),s("b650")),G=(s("be7f"),s("565f")),F=(s("4ddd"),s("9f14")),Q=(s("8a58"),s("e41f")),B=(s("38d5"),s("772a")),M=(s("c194"),s("7744")),W={name:"Report",data(){return{desc:"",images:[],position:"",riverName:"",issueTypeName:"",processType:"1",notifyOthers:"0",otherUserList:[],showRiverSelector:!1,showIssueTypeSelector:!1,positionPlaceholder:"问题所在位置",submitting:!1}},computed:Object(n["a"])({},Object(r["b"])({user:"user",riverNames:"riverNameList",issueTypes:"issueTypeNames",submitter:({user:e})=>e.name})),mounted(){setTimeout(this.fetchCurrentPosition,500)},components:{[M["a"].name]:M["a"],[B["a"].name]:B["a"],[Q["a"].name]:Q["a"],[F["a"].name]:F["a"],[G["a"].name]:G["a"],[J["a"].name]:J["a"],[q["a"].name]:q["a"],[D["a"].name]:D["a"],[L["a"].name]:L["a"],[E["a"].name]:E["a"],[$["a"].name]:$["a"],[A["a"].name]:A["a"],[U["a"].name]:U["a"],[R["a"].name]:R["a"]},methods:{fetchCurrentPosition(){this.positionPlaceholder="定位中....",f.currentPosition().then(e=>{this.position=e}).catch(e=>{this.position="ERR - "+JSON.stringify(e)})},onInvalid(e){Object(D["a"])({type:"danger",message:""+e.errors[0].message})},onSubmit(e){this.$refs.form.validate().then(()=>{const t=new Date,s=this.otherUserList,i=Object(n["a"])(Object(n["a"])({time:t},e),{},{otherUsers:s,submitter:this.submitter});this.submitting=!0,this.$store.dispatch("createIssue",i).then(()=>{this.submitting=!1,this.goList()})})},onIssueTypeConfirm(e){this.issueTypeName=e.join(","),this.showIssueTypeSelector=!1},onRiverNameConfirm(e){this.riverName=e,this.showRiverSelector=!1},goList(){this.$router.push("/issue-list")},onLocationClicked(){f.choosePosition(this.latitude,this.longitude).then(e=>{this.latitude=e.latitude,this.longitude=e.longitude,this.position=""+e.title}).catch(e=>{this.position="ERR - "+JSON.stringify(e)})},onNotifyOthersChange(e){if("0"===e)return void(this.otherUserList=[]);const t={requiredUsers:[this.user.userid]},s=({users:e})=>{this.otherUserList=e},i=()=>{this.otherUserList=[],this.notifyOthers="0"};f.chooseUsers("请选择相关人",t).then(s).catch(i)}}},H=W,K=(s("11bc"),s("2877")),V=Object(K["a"])(H,z,P,!1,null,"054aa300",null),X=V.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"issue-list"},[s("van-button",{attrs:{type:"primary",icon:"add-o"},on:{click:e.onReportNewIssue}},[e._v(" 报告新问题 ")]),s("van-list",{attrs:{finished:e.finished,"finished-text":""},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[s("van-grid",{attrs:{direction:"horizontal","column-num":1,"icon-size":"38px"}},e._l(e.items,(function(e){return s("van-cell",{key:e.id,attrs:{label:e.submitter,icon:"location-o",title:e.desc,"is-link":"",value:"详情",to:"/issue-detail"}})})),1)],1)],1)},Z=[],ee=(s("ab71"),s("58e6")),te=(s("0ec5"),s("21ab")),se=(s("3df5"),s("2830")),ie=(s("2994"),s("2bdd")),ae=(s("c3a6"),s("ad06")),ne={components:{[M["a"].name]:M["a"],[ae["a"].name]:ae["a"],[ie["a"].name]:ie["a"],[se["a"].name]:se["a"],[J["a"].name]:J["a"],[te["a"].name]:te["a"],[ee["a"].name]:ee["a"]},data(){return{loading:!1,finished:!1,refreshing:!1,list:this.$store.state.issues}},computed:{items(){return this.list.map(e=>{const{id:t,riverName:s,submitter:i}=e;return{id:t,desc:`${s}，${e.desc}`,submitter:`提交人：${i} ${e.time}`}})}},methods:{onLoad(){this.refreshing&&(this.refreshing=!1,this.list=this.$store.state.issues),this.loading=!1,this.finished=!0},onRefresh(){this.finished=!1,this.loading=!0,this.onLoad()},onReportNewIssue(){this.$router.push("/report")}}},re=ne,oe=(s("56d6"),Object(K["a"])(re,Y,Z,!1,null,"31523365",null)),ce=oe.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"issueDetail"},[i("van-collapse",{model:{value:e.issueInfo,callback:function(t){e.issueInfo=t},expression:"issueInfo"}},[i("van-collapse-item",{attrs:{title:"问题基本情况",name:"1"}},[i("van-cell",[i("template",{slot:"title"},[i("div",{staticClass:"textQ",attrs:{align:"left"}},[e._v("问题所在位置：")]),i("div",{staticClass:"textA",attrs:{align:"left"}},[e._v("北京市朝阳区")])])],2),i("van-cell",[i("template",{slot:"title"},[i("div",{staticClass:"textQ",attrs:{align:"left"}},[e._v("对应河湖：")]),i("div",{staticClass:"textA",attrs:{align:"left"}},[e._v("长江流域村田河地杨村段")])])],2),i("van-cell",[i("template",{slot:"title"},[i("div",{staticClass:"textQ",attrs:{align:"left"}},[e._v("问题类型：")]),i("div",{staticClass:"textA",attrs:{align:"left"}},[e._v("污染问题")])])],2),i("van-cell",[i("template",{slot:"title"},[i("div",{staticClass:"textQ",attrs:{align:"left"}},[e._v("问题描述：")]),i("div",{staticClass:"textA",attrs:{align:"left"}},[e._v("河面有垃圾存在")])])],2),i("van-cell",[i("template",{slot:"title"},[i("div",{staticClass:"textQ",attrs:{align:"left"}},[e._v("处理方式：")]),i("div",{staticClass:"textA",attrs:{align:"left"}},[e._v("上报河长")])])],2),i("van-cell",[i("template",{slot:"title"},[i("div",{staticClass:"textQ",attrs:{align:"left"}},[e._v("是否通知相关人员：")]),i("div",{staticClass:"textA",attrs:{align:"left"}},[e._v("已通知")])])],2),i("van-cell",[i("template",{slot:"title"},[i("div",{staticClass:"textQ",attrs:{align:"left"}},[e._v("问题照片：")]),i("van-grid",{attrs:{border:!1,"column-num":3}},[i("van-grid-item",[i("van-image",{attrs:{width:"80",height:"80",src:s("331c")}})],1),i("van-grid-item",[i("van-image",{attrs:{width:"80",height:"80",src:s("c02d")}})],1),i("van-grid-item",[i("van-image",{attrs:{width:"80",height:"80",src:s("58c9")}})],1)],1)],1)],2)],1)],1),i("van-steps",{attrs:{direction:"vertical",active:2}},[i("van-step",[i("van-image",{attrs:{round:"",width:"5rem",height:"5rem",src:s("235f")}}),i("h3",[e._v("【张萧萧】巡河人员")]),i("p",[e._v("上报问题(已提交)")]),i("p",[e._v("2020-06-27 12:40")])],1),i("van-step",[i("van-image",{attrs:{round:"",width:"5rem",height:"5rem",src:s("3a24")}}),i("h3",[e._v("【李峰】河长办")]),i("p",[e._v("转发问题(已处理)")]),i("p",[e._v("2020-06-28 10:00")])],1),i("van-step",[i("van-image",{attrs:{round:"",width:"5rem",height:"5rem",src:s("9510")}}),i("h3",[e._v("【王雪梅】县水利局")]),i("p",[e._v("受理问题(处理中)")]),i("p",[e._v("2020-06-29 09:30")])],1)],1),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{round:"",block:"",type:"primary",to:"/issue-list"}},[e._v(" 返回 ")])],1)],1)},ue=[],de=(s("77f8"),s("dc0f")),pe=(s("1f87"),s("510b")),me=(s("342a"),s("1437")),he=(s("5d17"),s("f9bd")),ve=(s("4056"),s("44bf")),fe={components:{[ie["a"].name]:ie["a"],[J["a"].name]:J["a"],[ae["a"].name]:ae["a"],[ee["a"].name]:ee["a"],[M["a"].name]:M["a"],[se["a"].name]:se["a"],[te["a"].name]:te["a"],[ve["a"].name]:ve["a"],[he["a"].name]:he["a"],[me["a"].name]:me["a"],[pe["a"].name]:pe["a"],[de["a"].name]:de["a"]},data(){return{myTitle:"河湖问题详情",issueInfo:["1"],issueProcess:["2"]}},methods:{onLoad(){},onRefresh(){}}},ge=fe,be=(s("f0bd"),Object(K["a"])(ge,le,ue,!1,null,"211bfeae",null)),ye=be.exports;i["a"].use(j["a"]),i["a"].use(T.a);const xe=[{path:"/report",name:"Report",component:X,meta:{title:"问题提交"}},{alias:"/",path:"/issue-list",name:"IssueList",component:ce,meta:{title:"问题列表"}},{path:"/issue-detail",name:"IssueDetail",component:ye,meta:{title:"问题详情"}},{path:"/profile",name:"Profile",meta:{title:"我的任务"},component:()=>s.e("chunk-2d217357").then(s.bind(null,"c66d"))}],we=new j["a"]({routes:xe,mode:"hash",base:"/shuili-web-pages/"});we.beforeEach((e,t,s)=>{e.meta.title&&(document.title=e.meta.title),s()});var _e=we,ke=s("9483");Object(ke["a"])("/shuili-web-pages/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.ready?e._e():s("div",{class:{error:e.hasErrors},attrs:{id:"tips"}},[s("p",[e._v(e._s(e.status))]),e.hasErrors?s("p",[e._v(" Please use Dingtalk or contact "),s("a",{attrs:{href:"mailto:wangwii@foxmail.com"}},[e._v("Developer.")])]):e._e()]),e.ready?s("van-nav-bar",{on:{"click-right":e.onClickRight},scopedSlots:e._u([{key:"right",fn:function(){return[e._v(" "+e._s(e.$store.state.user.name)+"｜ "),s("van-image",{attrs:{round:"",width:"40px",height:"40px",name:"icon",src:e.$store.state.user.avatar}})]},proxy:!0}],null,!1,3981903713)}):e._e(),e.ready?s("div",{staticClass:"van-hairline--bottom"}):e._e(),e.ready?s("router-view"):e._e()],1)},Ie=[],Ce=(s("5246"),s("6b41")),Oe={name:"App",components:{[ve["a"].name]:ve["a"],[Ce["a"].name]:Ce["a"]},data(){return{count:0,ready:!1,hasErrors:!0,status:"Not in DingTalk environment!"}},created(){p.disableDingTalk?this.skipEnvCheck():this.initDingtalkEnv()},methods:{skipEnvCheck(){this.ready=!0,this.hasErrors=!1,this.status="Skip runtime env check..."},initDingtalkEnv(){I.init().then(()=>{this.hasErrors=!1,this.status="Loading user information...",I.loadUserInfo().then(e=>{this.$store.commit("onUserInfoUpdated",e.data),this.status="USR-INFO: "+JSON.stringify(this.$store.state.user),this.configJsApisSign(window.location.href)}).catch(e=>{this.hasErrors=!0,this.status="ERR: "+JSON.stringify(e)})})},configJsApisSign(e){this.status="Setup js-apis permission...";const t=()=>I.configJsApis(e).then(e=>{this.status=`Setup js-apis permission done: [${e.data.jsApiList.length}].`}).catch(e=>{this.status="SIGN-ERR: "+JSON.stringify(e)});setTimeout(t,10),setTimeout(()=>{this.ready=!0},3e3)},onClickRight(){"/profile"!==this.$route.path&&this.$router.push("/profile")}}},je=Oe,Ne=(s("7c55"),Object(K["a"])(je,Se,Ie,!1,null,null,null)),Te=Ne.exports;i["a"].config.productionTip=!1,new i["a"]({store:O,router:_e,render:e=>e(Te)}).$mount("#app")},"58c9":function(e,t,s){e.exports=s.p+"img/heliu5.3ca0c723.jpg"},"6ce5":function(e,t,s){},"7c55":function(e,t,s){"use strict";var i=s("2395"),a=s.n(i);a.a},9510:function(e,t,s){e.exports=s.p+"img/touxiang3.42d7e324.jpg"},c02d:function(e,t,s){e.exports=s.p+"img/heliu4.8cd431a2.jpg"},f0bd:function(e,t,s){"use strict";var i=s("4b68"),a=s.n(i);a.a}});
//# sourceMappingURL=app.6f48911a.js.map